(this["webpackJsonpauth0-react-sample"]=this["webpackJsonpauth0-react-sample"]||[]).push([[0],{41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c(1),a=c(19),r=c.n(a),i=c(2),l=c(4),o=function(){return Object(s.jsxs)("div",{className:"next-steps",children:[Object(s.jsx)("h2",{className:"my-5 text-center",children:"What can I do next?"}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-md-5 mb-4",children:[Object(s.jsx)("h6",{className:"mb-3",children:"This project was designed for Software security"}),Object(s.jsx)("p",{children:"Welcome to this project which was designed for the course Software security!"})]}),Object(s.jsx)("div",{className:"col-md"}),Object(s.jsxs)("div",{className:"col-md-5 mb-4",children:[Object(s.jsx)("h6",{className:"mb-3",children:"Profile"}),Object(s.jsx)("p",{children:"In the profile tab you can access your saved profile data once you are logged in!"})]})]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-md-5 mb-4",children:[Object(s.jsx)("h6",{className:"mb-3",children:"External API"}),Object(s.jsx)("p",{children:"Please run the express back-end seperately via the git link provided in the assignment, once this runs you can do the fetches in the external API page, otherwise this will not work!"})]}),Object(s.jsx)("div",{className:"col-md"})]})]})},j=function(){return Object(s.jsxs)("footer",{className:"bg-light p-3 text-center",children:[Object(s.jsx)("div",{className:"logo"}),Object(s.jsx)("p",{children:"Welcome to this software security project by Jonas Van den Cruyce"})]})},d=function(){return Object(s.jsxs)("div",{className:"text-center hero",children:[Object(s.jsx)("h1",{className:"mb-4",children:"Software security project"}),Object(s.jsx)("p",{className:"lead",children:"Please proceed to login so you can access your profile data as well as an api fetch call!"})]})},b=function(){return Object(s.jsx)("div",{className:"spinner",children:Object(s.jsx)("img",{src:"https://cdn.auth0.com/blog/auth0-react-sample/assets/loading.svg",alt:"Loading..."})})},u=c(8),h=function(){return Object(s.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(s.jsx)(u.b,{to:"/",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active",children:"Home"}),Object(s.jsx)(u.b,{to:"/profile",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active",children:"Profile"}),Object(s.jsx)(u.b,{to:"/external-api",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active",children:"External API"})]})},m=function(){var e=Object(l.b)().loginWithRedirect;return Object(s.jsx)("button",{className:"btn btn-primary btn-block",onClick:function(){return e()},children:"Log In"})},x=function(){var e=Object(l.b)().logout;return Object(s.jsx)("button",{className:"btn btn-danger btn-block",onClick:function(){return e({returnTo:window.location.origin})},children:"Log Out"})},O=function(){return Object(l.b)().isAuthenticated?Object(s.jsx)(x,{}):Object(s.jsx)(m,{})},p=function(){return Object(s.jsx)("div",{className:"navbar-nav ml-auto",children:Object(s.jsx)(O,{})})},v=function(){return Object(s.jsx)("div",{className:"nav-container mb-3",children:Object(s.jsx)("nav",{className:"navbar navbar-expand-md navbar-light bg-light",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("div",{className:"navbar-brand logo"}),Object(s.jsx)(h,{}),Object(s.jsx)(p,{})]})})})},f=c(12),g=c.n(f),N=c(16),w=c(22),k=function(){var e=Object(n.useState)(""),t=Object(w.a)(e,2),c=t[0],a=t[1],r="http://localhost:6060",i=Object(l.b)().getAccessTokenSilently,o=function(){var e=Object(N.a)(g.a.mark((function e(){var t,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(r,"/api/messages/public-message"));case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,a(c.message),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(N.a)(g.a.mark((function e(){var t,c,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i();case 3:return t=e.sent,e.next=6,fetch("".concat(r,"/api/messages/protected-message"),{headers:{Authorization:"Bearer ".concat(t)}});case 6:return c=e.sent,e.next=9,c.json();case 9:s=e.sent,a(s.message),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),a(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("h1",{children:"External API"}),Object(s.jsx)("p",{children:"Use these buttons to call an external API. The protected API call has an access token in its authorization header. The API server will validate the access token using the Auth0 Audience value."}),Object(s.jsxs)("div",{className:"btn-group mt-5",role:"group","aria-label":"External API Requests Examples",children:[Object(s.jsx)("button",{type:"button",className:"btn btn-primary",onClick:o,children:"Get Public Message"}),Object(s.jsx)("button",{type:"button",className:"btn btn-primary",onClick:j,children:"Get Protected Message"})]}),c&&Object(s.jsxs)("div",{className:"mt-5",children:[Object(s.jsx)("h6",{className:"muted",children:"Result"}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("code",{className:"col-12 text-light bg-dark p-4",children:c})})})]})]})},y=function(){return Object(s.jsxs)(n.Fragment,{children:[Object(s.jsx)(d,{}),Object(s.jsx)("hr",{}),Object(s.jsx)(o,{})]})},P=function(){var e=Object(l.b)().user,t=e.name,c=e.picture,n=e.email;return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"row align-items-center profile-header",children:[Object(s.jsx)("div",{className:"col-md-2 mb-3",children:Object(s.jsx)("img",{src:c,alt:"Profile",className:"rounded-circle img-fluid profile-picture mb-3 mb-md-0"})}),Object(s.jsxs)("div",{className:"col-md text-center text-md-left",children:[Object(s.jsx)("h2",{children:t}),Object(s.jsx)("p",{className:"lead text-muted",children:n})]})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("pre",{className:"col-12 text-light bg-dark p-4",children:JSON.stringify(e,null,2)})})]})},I=c(23),A=c(21),C=function(e){var t=e.component,c=Object(A.a)(e,["component"]);return Object(s.jsx)(i.a,Object(I.a)({component:Object(l.c)(t,{onRedirecting:function(){return Object(s.jsx)(b,{})}})},c))},E=(c(41),function(){return Object(l.b)().isLoading?Object(s.jsx)(b,{}):Object(s.jsxs)("div",{id:"app",className:"d-flex flex-column h-100",children:[Object(s.jsx)(v,{}),Object(s.jsx)("div",{className:"container flex-grow-1",children:Object(s.jsxs)(i.c,{children:[Object(s.jsx)(i.a,{path:"/",exact:!0,component:y}),Object(s.jsx)(C,{path:"/profile",component:P}),Object(s.jsx)(C,{path:"/external-api",component:k})]})}),Object(s.jsx)(j,{})]})}),S=function(e){var t=e.children,c=Object(i.f)();return Object(s.jsx)(l.a,{domain:"jvdc.eu.auth0.com",clientId:"ssUlJ5HFouQqEsg0ejw90z4HzshrIkZi",redirectUri:window.location.origin,onRedirectCallback:function(e){c.push((null===e||void 0===e?void 0:e.returnTo)||window.location.pathname)},audience:"https://express.sample",children:t})};c(42);r.a.render(Object(s.jsx)(u.a,{children:Object(s.jsx)(S,{children:Object(s.jsx)(E,{})})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.86d70a62.chunk.js.map